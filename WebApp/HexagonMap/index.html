<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hexagon test 6</title>
    <script src="https://cdn.jsdelivr.net/npm/@svgdotjs/svg.js@3.1/dist/svg.min.js"></script>
    
    <style>
        body {
            margin: 0px;
            padding: 0px;
        }
    </style>

</head>
<body>

    <script>

        var gap = 5;  // pixel gap between hexagons
        var margin = 10;

        var mouseOverHex = function() {
            this.fill({ color: '#f06' });
        }

        var mouseOutHex = function() {
            this.fill({ color: '#000' });
        }

        var clickOverHex = function() {
            this.fill({ color: '#f06' });
            this.animate(1,0).transform( { scale: 1.2 } );
            this.animate(300, 50).transform( { scale: 1 } );
            
        }

        var draw = SVG().addTo('body').size(1200, 1200);

        var hexCount = 40;
        var hexMaxColumnCount = 6;
        var hexContainer = [];

        var curHexCol = 0;
        var curHexRow = 0;

        for (var n=0; n<hexCount; n++) {
            var newHex = draw.polygon('0,43.3 25,0 75,0 100,43.3 75,86.6 25,86.6');
            newHex.on('mouseover', mouseOverHex);
            newHex.on('click', clickOverHex);
            newHex.on('mouseout', mouseOutHex);

            // Update position counters
            console.log(`curHexCol: ${curHexCol} curHexRow: ${curHexRow}`);

            // Give position to the Hexagon
            var topPosition = 0;
            var leftPosition = 0;


            // Even row, up to MaxColumnCount columns
            if ( (curHexRow % 2) == 0 ) {

                topPosition = curHexRow*(43.3 + (gap/2))+margin - gap;
                leftPosition = curHexCol*(100+gap+50)+margin; 
                newHex.move(leftPosition, topPosition);

                if ( curHexCol < hexMaxColumnCount-1 ) {
                    curHexCol++;
                } else {
                    curHexCol = 0;
                    curHexRow++;
                }
            } else { // odd row, one less columns

                topPosition = curHexRow*(43.3 + (gap/2))+margin - gap;
                leftPosition = 75 + gap + curHexCol*(100+gap +50) + margin - (gap/2); 
                newHex.move(leftPosition, topPosition);

                if ( curHexCol < hexMaxColumnCount-2 ) {
                        curHexCol++;
                } else {
                    curHexCol = 0;
                    curHexRow++;
                }
            }

            hexContainer = [...hexContainer, newHex];
        }

        console.log(hexContainer.length);

/*
        var polygon_01 = draw.polygon('0,43.3 25,0 75,0 100,43.3 75,86.6 25,86.6');
        polygon_01.on('mouseover', mouseOverHex);
        polygon_01.on('click', clickOverHex);
        polygon_01.on('mouseout', mouseOutHex);

        var polygon_02 = draw.polygon('0,43.3 25,0 75,0 100,43.3 75,86.6 25,86.6');
        polygon_02.move(75+gap, 43.3+gap);
        polygon_02.on('mouseover', mouseOverHex);
        polygon_02.on('click', clickOverHex);
        polygon_02.on('mouseout', mouseOutHex);

        var polygon_03 = draw.polygon('0,43.3 25,0 75,0 100,43.3 75,86.6 25,86.6');
        polygon_03.move(2*(75+gap), 0);
        polygon_03.on('mouseover', mouseOverHex);
        polygon_03.on('click', clickOverHex);
        polygon_03.on('mouseout', mouseOutHex);

        var polygon_04 = draw.polygon('0,43.3 25,0 75,0 100,43.3 75,86.6 25,86.6');
        polygon_04.move(3*(75+gap), 43.3+gap);
        polygon_04.on('mouseover', mouseOverHex);
        polygon_04.on('click', clickOverHex);
        polygon_04.on('mouseout', mouseOutHex);
*/

    </script>
    

</body>
</html>